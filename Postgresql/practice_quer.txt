// question asked by sir in review 
postgres=# SELECT employee.emp_first_name ,car.car_name,COUNT(*) from employee inner join car on employee.id = car.car_id GROUP BY employee.emp_first_name,car.car_name;
 emp_first_name |    car_name    | count 
----------------+----------------+-------
 Neha           | Nexa Baleno    |     1
 krshna         | Nano           |     1
 Ankansha       | Mercedese Benz |     1
 Kunal          | Nisan          |     1
 Thomas         | Swift          |     1
 Brijesh        | valkswagen     |     1
 Pawan          | Dustor         |     1
 Aman           | Ford           |     1
 kiran          | BMW            |     1
 Niharika       | Toyota         |     1
(10 rows)


postgres=# SELECT NAME ,SUM(SALARY) FROM COMPANY GROUP BY NAME;
 name  |  sum  
-------+-------
 Teddy | 20000
 David | 85000
 james | 10000
 Paul  | 20000
 Mark  | 65000
 Allen | 15000
 kim   | 45000
(7 rows)

postgres=# SELECT NAME ,AVG(SALARY) FROM COMPANY GROUP BY NAME;
 name  |          avg           
-------+------------------------
 Teddy |     20000.000000000000
 David |     85000.000000000000
 james | 10000.0000000000000000
 Paul  |     20000.000000000000
 Mark  |     65000.000000000000
 Allen | 15000.0000000000000000
 kim   |     45000.000000000000
(7 rows)

postgres=# SELECT NAME ,SUM(SALARY) FROM COMPANY GROUP BY NAME ORDER BY NAME;
 name  |  sum  
-------+-------
 Allen | 15000
 David | 85000
 james | 10000
 kim   | 45000
 Mark  | 65000
 Paul  | 20000
 Teddy | 20000
(7 rows)

===========================================================TABLE============================================
New tables :

company=# \dt
           List of relations
 Schema |    Name    | Type  |  Owner   
--------+------------+-------+----------
 public | department | table | postgres
 public | employees  | table | postgres
 public | projects   | table | postgres
 public | workson    | table | postgres
(4 rows)

company=# select * from department;
 code  |      name      | managerid | subdeptof 
-------+----------------+-----------+-----------
 ADMIN | Administration |         1 | NULL
 ACCNT | Accounting     |         2 | ADMIN
 CNSLT | Consulting     |         4 | ADMIN
 HDWRE | Hardware       |         3 | CNSLT
(4 rows)

company=# select * from employees;
 employeeid | firstname | lastname | deptcode | salary 
------------+-----------+----------+----------+--------
          4 | Ritu      | kumari   | CNSLT    |  60000
          5 | Rishabh   | sharma   | CNSLT    |  30000
          6 | Herry     | singh    | HDWRE    |  65000
          1 | Rakesh    | sharma   | ADMIN    |  70000
          2 | Manoj     | kumar    | ACCNT    |  75000
          3 | kiran     | kumar    | HDWRE    |  80000
(6 rows)

company=# select * from projects;
 projectid | deptcode |   description   | startdate  |  stopdate  | revenue 
-----------+----------+-----------------+------------+------------+---------
 P1        | ADMIN    | Employee Moral  | 2002-03-14 | 2022-03-14 |       0
 P2        | ACCNT    | Mofia Audit     | 2003-07-14 | 2022-11-30 |  100000
 P3        | CNSLT    | Robotic Spouse  | 2002-07-14 | 2022-11-13 |  242000
 P4        | CNSLT    | Download Client | 2005-02-03 | 2022-12-13 |   18150
(4 rows)


company=# select * from workson;
 employeeid | projectid | assiggnedtime 
------------+-----------+---------------
          2 | P2        |             1
          3 | P3        |             2
          4 | P3        |             2
          5 | P3        |             1
          5 | P2        |             1
          3 | P4        |             2
(6 rows)

===================================================Created structured tables=================================================================
postgres=# \dt
              List of relations
 Schema |       Name       | Type  |  Owner   
--------+------------------+-------+----------
 public | car              | table | postgres
 public | departments      | table | postgres
 public | employee         | table | postgres
 public | project          | table | postgres
 public | project_assigned | table | postgres
(5 rows)

postgres=# SELECT * FROM project_
project_assigned        project_project_id_seq  
postgres=# SELECT * FROM project_assigned ;
 eid | project_id 
-----+------------
(0 rows)

postgres=# SELECT * FROM project ;
 project_id |   project_name   
------------+------------------
       1001 | web_project
       1002 | Machine Learning
       1003 | Android
       1005 | funds analysis
       1006 | Cloud service
       1004 | mutual funds
(6 rows)

postgres=# \d project;
postgres=# \d employee;
                         Table "public.employee"
     Column     |          Type          | Collation | Nullable | Default 
----------------+------------------------+-----------+----------+---------
 emp_first_name | character varying(50)  |           | not null | 
 emp_last_name  | character varying(50)  |           | not null | 
 gender         | character varying(7)   |           | not null | 
 date_of_birth  | date                   |           | not null | 
 email          | character varying(150) |           |          | 
 salary         | integer                |           |          | 
 eid            | character varying(10)  |           |          | 

postgres=# 
postgres=# ALTER TABLE employee ADD PRIMARY KEY (eid);
ALTER TABLE
postgres=# \d employee;
                         Table "public.employee"
     Column     |          Type          | Collation | Nullable | Default 
----------------+------------------------+-----------+----------+---------
 emp_first_name | character varying(50)  |           | not null | 
 emp_last_name  | character varying(50)  |           | not null | 
 gender         | character varying(7)   |           | not null | 
 date_of_birth  | date                   |           | not null | 
 email          | character varying(150) |           |          | 
 salary         | integer                |           |          | 
 eid            | character varying(10)  |           | not null | 
Indexes:
    "employee_pkey" PRIMARY KEY, btree (eid)

postgres=# INSERT INTO project_assigned (eid,project_id)
postgres-# VALUES('1',1001),
postgres-# VALUES('2',1002),
postgres-# VALUES('3',1003);
ERROR:  syntax error at or near "VALUES"
LINE 3: VALUES('2',1002),
        ^
postgres=# INSERT INTO project_assigned (eid,project_id)
VALUES('1',1001),('2',1002),('3',1003);
INSERT 0 3
postgres=# INSERT INTO project_assigned (eid,project_id)
VALUES('1',1003),('2',1001),('3',1001);
ERROR:  duplicate key value violates unique constraint "project_assigned_pkey"
DETAIL:  Key (eid)=(1) already exists.
postgres=# ALTER TABLE project_assigned ADD FOREIGN KEY REFERENCES employee(eid);
ERROR:  syntax error at or near "REFERENCES"
LINE 1: ALTER TABLE project_assigned ADD FOREIGN KEY REFERENCES empl...
                                                     ^
postgres=# ALTER TABLE project_assigned ADD FOREIGN KEY(eid) REFERENCES employee(eid);
ALTER TABLE
postgres=# INSERT INTO project_assigned (eid,project_id)
VALUES('1',1001),('2',1002),('3',1003);
ERROR:  duplicate key value violates unique constraint "project_assigned_pkey"
DETAIL:  Key (eid)=(1) already exists.
postgres=# \d project_assigned;
                   Table "public.project_assigned"
   Column   |         Type          | Collation | Nullable | Default 
------------+-----------------------+-----------+----------+---------
 eid        | character varying(10) |           | not null | 
 project_id | character varying(10) |           | not null | 
Indexes:
    "project_assigned_pkey" PRIMARY KEY, btree (eid)
Foreign-key constraints:
    "project_assigned_eid_fkey" FOREIGN KEY (eid) REFERENCES employee(eid)

postgres=# ALTER TABLE project_assigned  DROP PRIMARY KEY;
ERROR:  syntax error at or near "PRIMARY"
LINE 1: ALTER TABLE project_assigned  DROP PRIMARY KEY;
                                           ^
postgres=# ALTER TABLE project_assigned  DROP PRIMARY KEY(eid);
ERROR:  syntax error at or near "PRIMARY"
LINE 1: ALTER TABLE project_assigned  DROP PRIMARY KEY(eid);
                                           ^
postgres=# INSERT INTO project_assigned (eid,project_id)
VALUES('1',1001),('2',1002),('3',1003);
ERROR:  duplicate key value violates unique constraint "project_assigned_pkey"
DETAIL:  Key (eid)=(1) already exists.
postgres=# INSERT INTO project_assigned (eid,project_id)
VALUES('1',1002);
ERROR:  duplicate key value violates unique constraint "project_assigned_pkey"
DETAIL:  Key (eid)=(1) already exists.
postgres=# select * from project_assigned ;
 eid | project_id 
-----+------------
 1   | 1001
 2   | 1002
 3   | 1003
(3 rows)

postgres=# drop table project_assigned ;

postgres=# \d project_assined ;
                   Table "public.project_assined"
   Column   |         Type          | Collation | Nullable | Default 
------------+-----------------------+-----------+----------+---------
 eid        | character varying(10) |           | not null | 
 project_id | integer               |           | not null | 

\d: extra argument ";" ignored
postgres=# INSERT INTO project_assigned (eid,project_id)
VALUES('1',1002);

postgres=# CREATE TABLE project_assigned(
postgres(# eid VARCHAR(10) NOT NULL,project_id integer NOT NULL);
CREATE TABLE
postgres=# \d project_assigned ;
                   Table "public.project_assigned"
   Column   |         Type          | Collation | Nullable | Default 
------------+-----------------------+-----------+----------+---------
 eid        | character varying(10) |           | not null | 
 project_id | integer               |           | not null | 


postgres=# drop table project_assined ;
DROP TABLE
postgres=# \dt
              List of relations
 Schema |       Name       | Type  |  Owner   
--------+------------------+-------+----------
 public | car              | table | postgres
 public | departments      | table | postgres
 public | employee         | table | postgres
 public | project          | table | postgres
 public | project_assigned | table | postgres
(5 rows)

postgres=# INSERT INTO project_assigned (
postgres(# eid , project_id)
postgres-# VALUES('1' ,1001);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('2' ,1002);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('3' ,1003);
INSERT 0 1
postgres=# select * from project_assigned ;
 eid | project_id 
-----+------------
 1   |       1001
 2   |       1002
 3   |       1003
(3 rows)

postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('1' ,1002);
INSERT 0 1
postgres=# select * from project_assigned ;
 eid | project_id 
-----+------------
 1   |       1001
 2   |       1002
 3   |       1003
 1   |       1002
(4 rows)

postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('1' ,1003);
INSERT 0 1
postgres=# select * from project_assigned ;
 eid | project_id 
-----+------------
 1   |       1001
 2   |       1002
 3   |       1003
 1   |       1002
 1   |       1003
(5 rows)

postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('2' ,1001);
INSERT 0 1
postgres=# select * from project_assigned ;
 eid | project_id 
-----+------------
 1   |       1001
 2   |       1002
 3   |       1003
 1   |       1002
 1   |       1003
 2   |       1001
(6 rows)

postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('4' ,1005);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('5' ,1006);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('6' ,1003);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('7' ,1001);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('8' ,1004);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('9' ,1005);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('10' ,1002);
INSERT 0 1
postgres=# select * from project_assigned ;
 eid | project_id 
-----+------------
 1   |       1001
 2   |       1002
 3   |       1003
 1   |       1002
 1   |       1003
 2   |       1001
 4   |       1005
 5   |       1006
 6   |       1003
 7   |       1001
 8   |       1004
 9   |       1005
 10  |       1002
(13 rows)


eid VARCHAR(10) NOT NULL PRIMARY KEY ,project_id integer NOT NULL);
CREATE TABLE
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('1' ,1001);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('1' ,1002);
ERROR:  duplicate key value violates unique constraint "project_assigned_pkey"
DETAIL:  Key (eid)=(1) already exists.
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('2' ,1002);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('3' ,1002);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('3' ,1003);
ERROR:  duplicate key value violates unique constraint "project_assigned_pkey"
DETAIL:  Key (eid)=(3) already exists.
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('4' ,1004);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('5' ,1001);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('6' ,1003);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('7' ,1006);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('8' ,1005);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('9' ,1006);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('10' ,1003);
INSERT 0 1
postgres=# drop table project_assigned ;
DROP TABLE
postgres=# select * from project_assigned;
ERROR:  relation "project_assigned" does not exist
LINE 1: select * from project_assigned;
                      ^
postgres=# \dt
            List of relations
 Schema |    Name     | Type  |  Owner   
--------+-------------+-------+----------
 public | car         | table | postgres
 public | departments | table | postgres
 public | employee    | table | postgres
 public | project     | table | postgres
(4 rows)


postgres(# eid VARCHAR(10) NOT NULL PRIMARY KEY ,project_id integer NOT NULL);
CREATE TABLE
postgres=# \dt
              List of relations
 Schema |       Name       | Type  |  Owner   
--------+------------------+-------+----------
 public | car              | table | postgres
 public | departments      | table | postgres
 public | employee         | table | postgres
 public | project          | table | postgres
 public | project_assigned | table | postgres
(5 rows)

postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('1' ,1001);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('2' ,1002);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('3' ,1003);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('4' ,1005);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('5' ,1003);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('6' ,1006);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('7' ,1001);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('8' ,1004);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('9' ,1004);
INSERT 0 1
postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('10' ,1001);
INSERT 0 1
postgres=# SELECT * FROM project_assigned ;
 eid | project_id 
-----+------------
 1   |       1001
 2   |       1002
 3   |       1003
 4   |       1005
 5   |       1003
 6   |       1006
 7   |       1001
 8   |       1004
 9   |       1004
 10  |       1001
(10 rows)

postgres=# \dt
              List of relations
 Schema |       Name       | Type  |  Owner   
--------+------------------+-------+----------
 public | car              | table | postgres
 public | departments      | table | postgres
 public | employee         | table | postgres
 public | project          | table | postgres
 public | project_assigned | table | postgres
(5 rows)

postgres=# ALTER TABLE employee ADD FOREIGN KEY (eid) REFERENCES employee(eid);
ALTER TABLE
postgres=# \dt
              List of relations
 Schema |       Name       | Type  |  Owner   
--------+------------------+-------+----------
 public | car              | table | postgres
 public | departments      | table | postgres
 public | employee         | table | postgres
 public | project          | table | postgres
 public | project_assigned | table | postgres
(5 rows)

postgres=# select * from employee;
postgres=# select * from employee;
 emp_first_name | emp_last_name | gender | date_of_birth |         email         | salary | eid 
----------------+---------------+--------+---------------+-----------------------+--------+-----
 Aman           | Chouhan       | MALE   | 1997-12-28    | amanchouhan@gmail.com |  30000 | 1
 Ankansha       | sharma        | FEMALE | 1998-11-28    | akansha@gmail.com     |  30000 | 2
 Niharika       | kumari        | FEMALE | 1999-09-20    | niharika@gmail.com    |  20000 | 3
 Kunal          | kumar         | MALE   | 1999-09-11    | kunal@gmail.com       |  50000 | 4
 Neha           | Nagar         | FEMALE | 1997-12-28    | neha@gmail.com        |  25000 | 5
 kiran          | sharma        | FEMALE | 1998-12-24    | kiran@gmail.com       |  30000 | 6
 Pawan          | khanna        | MALE   | 1994-06-20    | pawan@gmail.com       |  35000 | 7
 krshna         | kapoor        | MALE   | 1995-08-24    | krish@gmail.com       |  35000 | 8
 Thomas         | smith         | MALE   | 1990-04-20    | thomas@gmail.com      |  30000 | 9
 Brijesh        | Yadav         | MALE   | 1992-03-21    | brij@gmail.com        |  25000 | 10
(10 rows)

postgres=# \d employee;
                         Table "public.employee"
     Column     |          Type          | Collation | Nullable | Default 
----------------+------------------------+-----------+----------+---------
 emp_first_name | character varying(50)  |           | not null | 
 emp_last_name  | character varying(50)  |           | not null | 
 gender         | character varying(7)   |           | not null | 
 date_of_birth  | date                   |           | not null | 
 email          | character varying(150) |           |          | 
 salary         | integer                |           |          | 
 eid            | character varying(10)  |           | not null | 
Indexes:
    "employee_pkey" PRIMARY KEY, btree (eid)
Foreign-key constraints:
    "employee_eid_fkey" FOREIGN KEY (eid) REFERENCES employee(eid)
Referenced by:
    TABLE "employee" CONSTRAINT "employee_eid_fkey" FOREIGN KEY (eid) REFERENCES employee(eid)

postgres=# INSERT INTO project_assigned (
eid , project_id)
VALUES('10' ,1001);^\Quit (core dumped)
postgres@Tarun-hp-probook:/home/tarun$ psql
Password for user postgres: 
psql (14.0 (Ubuntu 14.0-1.pgdg18.04+1), server 11.13 (Ubuntu 11.13-1.pgdg18.04+1))
Type "help" for help.

postgres=# 
postgres=# \dt
              List of relations
 Schema |       Name       | Type  |  Owner   
--------+------------------+-------+----------
 public | car              | table | postgres
 public | departments      | table | postgres
 public | employee         | table | postgres
 public | project          | table | postgres
 public | project_assigned | table | postgres
(5 rows)

postgres=# select * from department;
ERROR:  relation "department" does not exist
LINE 1: select * from department;
                      ^
postgres=# select * from departments;
 dept_id | dept_name 
---------+-----------
 101IT   | IT
 102HR   | HR
 103SL   | SALES
 104AC   | ACCOUNTS
 103RE   | RESEARCH
(5 rows)

postgres=# ALTER TABLE employee ADD COLUMN dept VARCHAR(10) NOT NULL; 
ERROR:  column "dept" contains null values
postgres=# ALTER TABLE employee ADD COLUMN dept VARCHAR(10); 
ALTER TABLE
postgres=# select * from departments;
 dept_id | dept_name 
---------+-----------
 101IT   | IT
 102HR   | HR
 103SL   | SALES
 104AC   | ACCOUNTS
 103RE   | RESEARCH
(5 rows)

postgres=# select * from employee;
 emp_first_name | emp_last_name | gender | date_of_birth |         email         | salary | eid | dept 
----------------+---------------+--------+---------------+-----------------------+--------+-----+------
 Aman           | Chouhan       | MALE   | 1997-12-28    | amanchouhan@gmail.com |  30000 | 1   | 
 Ankansha       | sharma        | FEMALE | 1998-11-28    | akansha@gmail.com     |  30000 | 2   | 
 Niharika       | kumari        | FEMALE | 1999-09-20    | niharika@gmail.com    |  20000 | 3   | 
 Kunal          | kumar         | MALE   | 1999-09-11    | kunal@gmail.com       |  50000 | 4   | 
 Neha           | Nagar         | FEMALE | 1997-12-28    | neha@gmail.com        |  25000 | 5   | 
 kiran          | sharma        | FEMALE | 1998-12-24    | kiran@gmail.com       |  30000 | 6   | 
 Pawan          | khanna        | MALE   | 1994-06-20    | pawan@gmail.com       |  35000 | 7   | 
 krshna         | kapoor        | MALE   | 1995-08-24    | krish@gmail.com       |  35000 | 8   | 
 Thomas         | smith         | MALE   | 1990-04-20    | thomas@gmail.com      |  30000 | 9   | 
 Brijesh        | Yadav         | MALE   | 1992-03-21    | brij@gmail.com        |  25000 | 10  | 
(10 rows)

postgres=# UPDATE employee SET dept='IT' WHERE eid = '1';
UPDATE 1
postgres=# UPDATE employee SET dept='IT' WHERE eid = '2';
UPDATE 1
postgres=# UPDATE employee SET dept='IT' WHERE eid = '3';
UPDATE 1
postgres=# UPDATE employee SET dept='HR' WHERE eid = '4';
UPDATE 1
postgres=# UPDATE employee SET dept='SALES' WHERE eid = '5';
UPDATE 1
postgres=# UPDATE employee SET dept='SALES' WHERE eid = '6';
UPDATE 1
postgres=# UPDATE employee SET dept='SALES' WHERE eid = '7';
UPDATE 1
postgres=# UPDATE employee SET dept='ACCOUNTS' WHERE eid = '8';
UPDATE 1
postgres=# UPDATE employee SET dept='ACCOUNTS' WHERE eid = '9';
UPDATE 1
postgres=# UPDATE employee SET dept='RESEARCH' WHERE eid = '10';
UPDATE 1
postgres=# select * from employee;
 emp_first_name | emp_last_name | gender | date_of_birth |         email         | salary | eid |   dept   
----------------+---------------+--------+---------------+-----------------------+--------+-----+----------
 Aman           | Chouhan       | MALE   | 1997-12-28    | amanchouhan@gmail.com |  30000 | 1   | IT
 Ankansha       | sharma        | FEMALE | 1998-11-28    | akansha@gmail.com     |  30000 | 2   | IT
 Niharika       | kumari        | FEMALE | 1999-09-20    | niharika@gmail.com    |  20000 | 3   | IT
 Kunal          | kumar         | MALE   | 1999-09-11    | kunal@gmail.com       |  50000 | 4   | HR
 Neha           | Nagar         | FEMALE | 1997-12-28    | neha@gmail.com        |  25000 | 5   | SALES
 kiran          | sharma        | FEMALE | 1998-12-24    | kiran@gmail.com       |  30000 | 6   | SALES
 Pawan          | khanna        | MALE   | 1994-06-20    | pawan@gmail.com       |  35000 | 7   | SALES
 krshna         | kapoor        | MALE   | 1995-08-24    | krish@gmail.com       |  35000 | 8   | ACCOUNTS
 Thomas         | smith         | MALE   | 1990-04-20    | thomas@gmail.com      |  30000 | 9   | ACCOUNTS
 Brijesh        | Yadav         | MALE   | 1992-03-21    | brij@gmail.com        |  25000 | 10  | RESEARCH
(10 rows)

postgres=# \DT
invalid command \DT
Try \? for help.
postgres=# \dt
              List of relations
 Schema |       Name       | Type  |  Owner   
--------+------------------+-------+----------
 public | car              | table | postgres
 public | departments      | table | postgres
 public | employee         | table | postgres
 public | project          | table | postgres
 public | project_assigned | table | postgres
(5 rows)

postgres=# \d employee
                         Table "public.employee"
     Column     |          Type          | Collation | Nullable | Default 
----------------+------------------------+-----------+----------+---------
 emp_first_name | character varying(50)  |           | not null | 
 emp_last_name  | character varying(50)  |           | not null | 
 gender         | character varying(7)   |           | not null | 
 date_of_birth  | date                   |           | not null | 
 email          | character varying(150) |           |          | 
 salary         | integer                |           |          | 
 eid            | character varying(10)  |           | not null | 
 dept           | character varying(10)  |           |          | 
Indexes:
    "employee_pkey" PRIMARY KEY, btree (eid)
Foreign-key constraints:
    "employee_eid_fkey" FOREIGN KEY (eid) REFERENCES employee(eid)
Referenced by:
    TABLE "employee" CONSTRAINT "employee_eid_fkey" FOREIGN KEY (eid) REFERENCES employee(eid)

postgres=# \d departments;
                     Table "public.departments"
  Column   |         Type          | Collation | Nullable | Default 
-----------+-----------------------+-----------+----------+---------
 dept_id   | character varying(5)  |           | not null | 
 dept_name | character varying(10) |           |          | 
Indexes:
    "departments_pkey" PRIMARY KEY, btree (dept_id)

postgres=# \d project;
                                          Table "public.project"
    Column    |         Type          | Collation | Nullable |                   Default                   
--------------+-----------------------+-----------+----------+---------------------------------------------
 project_id   | bigint                |           | not null | nextval('project_project_id_seq'::regclass)
 project_name | character varying(50) |           | not null | 
Indexes:
    "project_pkey" PRIMARY KEY, btree (project_id)

postgres=# 
postgres=# \dt
              List of relations
 Schema |       Name       | Type  |  Owner   
--------+------------------+-------+----------
 public | car              | table | postgres
 public | departments      | table | postgres
 public | employee         | table | postgres
 public | project          | table | postgres
 public | project_assigned | table | postgres
(5 rows)


postgres=# select * from departments;
 dept_id | dept_name 
---------+-----------
 101IT   | IT
 102HR   | HR
 103SL   | SALES
 104AC   | ACCOUNTS
 103RE   | RESEARCH
(5 rows)


postgres=# select * from employee;
 emp_first_name | emp_last_name | gender | date_of_birth |         email         | salary | eid |   dept   
----------------+---------------+--------+---------------+-----------------------+--------+-----+----------
 Aman           | Chouhan       | MALE   | 1997-12-28    | amanchouhan@gmail.com |  30000 | 1   | IT
 Ankansha       | sharma        | FEMALE | 1998-11-28    | akansha@gmail.com     |  30000 | 2   | IT
 Niharika       | kumari        | FEMALE | 1999-09-20    | niharika@gmail.com    |  20000 | 3   | IT
 Kunal          | kumar         | MALE   | 1999-09-11    | kunal@gmail.com       |  50000 | 4   | HR
 Neha           | Nagar         | FEMALE | 1997-12-28    | neha@gmail.com        |  25000 | 5   | SALES
 kiran          | sharma        | FEMALE | 1998-12-24    | kiran@gmail.com       |  30000 | 6   | SALES
 Pawan          | khanna        | MALE   | 1994-06-20    | pawan@gmail.com       |  35000 | 7   | SALES
 krshna         | kapoor        | MALE   | 1995-08-24    | krish@gmail.com       |  35000 | 8   | ACCOUNTS
 Thomas         | smith         | MALE   | 1990-04-20    | thomas@gmail.com      |  30000 | 9   | ACCOUNTS
 Brijesh        | Yadav         | MALE   | 1992-03-21    | brij@gmail.com        |  25000 | 10  | RESEARCH
(10 rows)


postgres=# select * from project;
 project_id |   project_name   
------------+------------------
       1001 | web_project
       1002 | Machine Learning
       1003 | Android
       1005 | funds analysis
       1006 | Cloud service
       1004 | mutual funds
(6 rows)

postgres=# select * from project_assigned;
 eid | project_id 
-----+------------
 1   |       1001
 2   |       1002
 3   |       1003
 4   |       1005
 5   |       1003
 6   |       1006
 7   |       1001
 8   |       1004
 9   |       1004
 10  |       1001
(10 rows)


postgres=# select employee.eid ,employee.emp_first_name ,project_assigned.project_id FROM employee INNER JOIN project_assigned ON employee.eid = project_assigned.eid WHERE employee.dept = 'IT';
 eid | emp_first_name | project_id 
-----+----------------+------------
 1   | Aman           |       1001
 2   | Ankansha       |       1002
 3   | Niharika       |       1003
(3 rows)

postgres=# select employee.eid ,employee.emp_first_name ,project_assigned.project_id FROM employee INNER JOIN project_assigned ON employee.eid = project_assigned.eid WHERE employee.dept != 'IT';
 eid | emp_first_name | project_id 
-----+----------------+------------
 4   | Kunal          |       1005
 5   | Neha           |       1003
 6   | kiran          |       1006
 7   | Pawan          |       1001
 8   | krshna         |       1004
 9   | Thomas         |       1004
 10  | Brijesh        |       1001
(7 rows)

postgres=# select * from project;
 project_id |   project_name   
------------+------------------
       1001 | web_project
       1002 | Machine Learning
       1003 | Android
       1005 | funds analysis
       1006 | Cloud service
       1004 | mutual funds
(6 rows)

postgres=# ALTER TABLE project_assigned ADD FOREIGN KEY (project_id) REFRENCES project(project_id);
ERROR:  syntax error at or near "REFRENCES"
LINE 1: ...BLE project_assigned ADD FOREIGN KEY (project_id) REFRENCES ...
                                                             ^
postgres=# ALTER TABLE project_assigned ADD FOREIGN KEY (project_id) REFERENCES project(project_id);
ALTER TABLE
postgres=# select project_assigned.eid ,project_assigned.project_id ,project.project_name FROM project_assigned INNER JOIN project ON project_assigned.project_id = project.project_id ; 
postgres=# select project_assigned.eid ,project_assigned.project_id ,project.project_name FROM project_assigned INNER JOIN project ON project_assigned.project_id = project.project_id ; 
 eid | project_id |   project_name   
-----+------------+------------------
 1   |       1001 | web_project
 2   |       1002 | Machine Learning
 3   |       1003 | Android
 4   |       1005 | funds analysis
 5   |       1003 | Android
 6   |       1006 | Cloud service
 7   |       1001 | web_project
 8   |       1004 | mutual funds
 9   |       1004 | mutual funds
 10  |       1001 | web_project
(10 rows)



postgres=# \dt
              List of relations
 Schema |       Name       | Type  |  Owner   
--------+------------------+-------+----------
 public | car              | table | postgres
 public | departments      | table | postgres
 public | employee         | table | postgres
 public | project          | table | postgres
 public | project_assigned | table | postgres
(5 rows)

postgres=# \d departments;
                     Table "public.departments"
  Column   |         Type          | Collation | Nullable | Default 
-----------+-----------------------+-----------+----------+---------
 dept_id   | character varying(5)  |           | not null | 
 dept_name | character varying(10) |           |          | 
Indexes:
    "departments_pkey" PRIMARY KEY, btree (dept_id)

postgres=# ALTER TABLE employee ADD FOREIGN KEY (eid) REFERENCES departments(dept_id);
ERROR:  insert or update on table "employee" violates foreign key constraint "employee_eid_fkey1"
DETAIL:  Key (eid)=(1) is not present in table "departments".
postgres=# ALTER TABLE employee ADD dept_id_fk VARCHAR REFERENCES departments(dept_id);
ALTER TABLE
postgres=# \d departments;
                     Table "public.departments"
  Column   |         Type          | Collation | Nullable | Default 
-----------+-----------------------+-----------+----------+---------
 dept_id   | character varying(5)  |           | not null | 
 dept_name | character varying(10) |           |          | 
Indexes:
    "departments_pkey" PRIMARY KEY, btree (dept_id)
Referenced by:
    TABLE "employee" CONSTRAINT "employee_dept_id_fk_fkey" FOREIGN KEY (dept_id_fk) REFERENCES departments(dept_id)

postgres=# select * from employee;
postgres=# select * from employee;
 emp_first_name | emp_last_name | gender | date_of_birth |         email         | salary | eid |   dept   | dept_id_fk 
----------------+---------------+--------+---------------+-----------------------+--------+-----+----------+------------
 Aman           | Chouhan       | MALE   | 1997-12-28    | amanchouhan@gmail.com |  30000 | 1   | IT       | 
 Ankansha       | sharma        | FEMALE | 1998-11-28    | akansha@gmail.com     |  30000 | 2   | IT       | 
 Niharika       | kumari        | FEMALE | 1999-09-20    | niharika@gmail.com    |  20000 | 3   | IT       | 
 Kunal          | kumar         | MALE   | 1999-09-11    | kunal@gmail.com       |  50000 | 4   | HR       | 
 Neha           | Nagar         | FEMALE | 1997-12-28    | neha@gmail.com        |  25000 | 5   | SALES    | 
 kiran          | sharma        | FEMALE | 1998-12-24    | kiran@gmail.com       |  30000 | 6   | SALES    | 
 Pawan          | khanna        | MALE   | 1994-06-20    | pawan@gmail.com       |  35000 | 7   | SALES    | 
 krshna         | kapoor        | MALE   | 1995-08-24    | krish@gmail.com       |  35000 | 8   | ACCOUNTS | 
 Thomas         | smith         | MALE   | 1990-04-20    | thomas@gmail.com      |  30000 | 9   | ACCOUNTS | 
 Brijesh        | Yadav         | MALE   | 1992-03-21    | brij@gmail.com        |  25000 | 10  | RESEARCH | 
(10 rows)

postgres=# ALTER TABLE employee ADD dept_id_fk VARCHAR REFERENCES departments(eid);
ERROR:  column "dept_id_fk" of relation "employee" already exists
postgres=# select * from departments;
 dept_id | dept_name 
---------+-----------
 101IT   | IT
 102HR   | HR
 103SL   | SALES
 104AC   | ACCOUNTS
 103RE   | RESEARCH
(5 rows)

postgres=# UPDATE employee SET dept_id_fk = '1' WHERE eid= '1';
ERROR:  insert or update on table "employee" violates foreign key constraint "employee_dept_id_fk_fkey"
DETAIL:  Key (dept_id_fk)=(1) is not present in table "departments".
postgres=# ALTER TABLE employee DROP COLUMN dept_id_fk;
ALTER TABLE
postgres=# select * from departments;
 dept_id | dept_name 
---------+-----------
 101IT   | IT
 102HR   | HR
 103SL   | SALES
 104AC   | ACCOUNTS
 103RE   | RESEARCH
(5 rows)

postgres=# select * from employee;
 emp_first_name | emp_last_name | gender | date_of_birth |         email         | salary | eid |   dept   
----------------+---------------+--------+---------------+-----------------------+--------+-----+----------
 Aman           | Chouhan       | MALE   | 1997-12-28    | amanchouhan@gmail.com |  30000 | 1   | IT
 Ankansha       | sharma        | FEMALE | 1998-11-28    | akansha@gmail.com     |  30000 | 2   | IT
 Niharika       | kumari        | FEMALE | 1999-09-20    | niharika@gmail.com    |  20000 | 3   | IT
 Kunal          | kumar         | MALE   | 1999-09-11    | kunal@gmail.com       |  50000 | 4   | HR
 Neha           | Nagar         | FEMALE | 1997-12-28    | neha@gmail.com        |  25000 | 5   | SALES
 kiran          | sharma        | FEMALE | 1998-12-24    | kiran@gmail.com       |  30000 | 6   | SALES
 Pawan          | khanna        | MALE   | 1994-06-20    | pawan@gmail.com       |  35000 | 7   | SALES
 krshna         | kapoor        | MALE   | 1995-08-24    | krish@gmail.com       |  35000 | 8   | ACCOUNTS
 Thomas         | smith         | MALE   | 1990-04-20    | thomas@gmail.com      |  30000 | 9   | ACCOUNTS
 Brijesh        | Yadav         | MALE   | 1992-03-21    | brij@gmail.com        |  25000 | 10  | RESEARCH
(10 rows)

postgres=# ALTER TABLE employee ADD dept_id_fk VARCHAR REFERENCES departments(dept_id);
ALTER TABLE
postgres=# select * from employee;
 emp_first_name | emp_last_name | gender | date_of_birth |         email         | salary | eid |   dept   | dept_id_fk 
----------------+---------------+--------+---------------+-----------------------+--------+-----+----------+------------
 Aman           | Chouhan       | MALE   | 1997-12-28    | amanchouhan@gmail.com |  30000 | 1   | IT       | 
 Ankansha       | sharma        | FEMALE | 1998-11-28    | akansha@gmail.com     |  30000 | 2   | IT       | 
 Niharika       | kumari        | FEMALE | 1999-09-20    | niharika@gmail.com    |  20000 | 3   | IT       | 
 Kunal          | kumar         | MALE   | 1999-09-11    | kunal@gmail.com       |  50000 | 4   | HR       | 
 Neha           | Nagar         | FEMALE | 1997-12-28    | neha@gmail.com        |  25000 | 5   | SALES    | 
 kiran          | sharma        | FEMALE | 1998-12-24    | kiran@gmail.com       |  30000 | 6   | SALES    | 
 Pawan          | khanna        | MALE   | 1994-06-20    | pawan@gmail.com       |  35000 | 7   | SALES    | 
 krshna         | kapoor        | MALE   | 1995-08-24    | krish@gmail.com       |  35000 | 8   | ACCOUNTS | 
 Thomas         | smith         | MALE   | 1990-04-20    | thomas@gmail.com      |  30000 | 9   | ACCOUNTS | 
 Brijesh        | Yadav         | MALE   | 1992-03-21    | brij@gmail.com        |  25000 | 10  | RESEARCH | 
(10 rows)

postgres=# UPDATE employee SET dept_id_fk = '1' WHERE eid= '1';
ERROR:  insert or update on table "employee" violates foreign key constraint "employee_dept_id_fk_fkey"
DETAIL:  Key (dept_id_fk)=(1) is not present in table "departments".
postgres=# UPDATE employee SET dept_id_fk = '101IT' WHERE eid= '1';
UPDATE 1
postgres=# select * from employee;
 emp_first_name | emp_last_name | gender | date_of_birth |         email         | salary | eid |   dept   | dept_id_fk 
----------------+---------------+--------+---------------+-----------------------+--------+-----+----------+------------
 Ankansha       | sharma        | FEMALE | 1998-11-28    | akansha@gmail.com     |  30000 | 2   | IT       | 
 Niharika       | kumari        | FEMALE | 1999-09-20    | niharika@gmail.com    |  20000 | 3   | IT       | 
 Kunal          | kumar         | MALE   | 1999-09-11    | kunal@gmail.com       |  50000 | 4   | HR       | 
 Neha           | Nagar         | FEMALE | 1997-12-28    | neha@gmail.com        |  25000 | 5   | SALES    | 
 kiran          | sharma        | FEMALE | 1998-12-24    | kiran@gmail.com       |  30000 | 6   | SALES    | 
 Pawan          | khanna        | MALE   | 1994-06-20    | pawan@gmail.com       |  35000 | 7   | SALES    | 
 krshna         | kapoor        | MALE   | 1995-08-24    | krish@gmail.com       |  35000 | 8   | ACCOUNTS | 
 Thomas         | smith         | MALE   | 1990-04-20    | thomas@gmail.com      |  30000 | 9   | ACCOUNTS | 
 Brijesh        | Yadav         | MALE   | 1992-03-21    | brij@gmail.com        |  25000 | 10  | RESEARCH | 
 Aman           | Chouhan       | MALE   | 1997-12-28    | amanchouhan@gmail.com |  30000 | 1   | IT       | 101IT
(10 rows)

postgres=# UPDATE employee SET dept_id_fk = '102IT' WHERE eid= '2';
ERROR:  insert or update on table "employee" violates foreign key constraint "employee_dept_id_fk_fkey"
DETAIL:  Key (dept_id_fk)=(102IT) is not present in table "departments".
postgres=# UPDATE employee SET dept_id_fk = '101IT' WHERE eid= '2';
UPDATE 1
postgres=# UPDATE employee SET dept_id_fk = '101IT' WHERE eid= '3';
UPDATE 1
postgres=# UPDATE employee SET dept_id_fk = '102HR' WHERE eid= '4';
UPDATE 1
postgres=# UPDATE employee SET dept_id_fk = '103HR' WHERE eid= '5';
ERROR:  insert or update on table "employee" violates foreign key constraint "employee_dept_id_fk_fkey"
DETAIL:  Key (dept_id_fk)=(103HR) is not present in table "departments".
postgres=# select * from employee;
 emp_first_name | emp_last_name | gender | date_of_birth |         email         | salary | eid |   dept   | dept_id_fk 
----------------+---------------+--------+---------------+-----------------------+--------+-----+----------+------------
 Neha           | Nagar         | FEMALE | 1997-12-28    | neha@gmail.com        |  25000 | 5   | SALES    | 
 kiran          | sharma        | FEMALE | 1998-12-24    | kiran@gmail.com       |  30000 | 6   | SALES    | 
 Pawan          | khanna        | MALE   | 1994-06-20    | pawan@gmail.com       |  35000 | 7   | SALES    | 
 krshna         | kapoor        | MALE   | 1995-08-24    | krish@gmail.com       |  35000 | 8   | ACCOUNTS | 
 Thomas         | smith         | MALE   | 1990-04-20    | thomas@gmail.com      |  30000 | 9   | ACCOUNTS | 
 Brijesh        | Yadav         | MALE   | 1992-03-21    | brij@gmail.com        |  25000 | 10  | RESEARCH | 
 Aman           | Chouhan       | MALE   | 1997-12-28    | amanchouhan@gmail.com |  30000 | 1   | IT       | 101IT
 Ankansha       | sharma        | FEMALE | 1998-11-28    | akansha@gmail.com     |  30000 | 2   | IT       | 101IT
 Niharika       | kumari        | FEMALE | 1999-09-20    | niharika@gmail.com    |  20000 | 3   | IT       | 101IT
 Kunal          | kumar         | MALE   | 1999-09-11    | kunal@gmail.com       |  50000 | 4   | HR       | 102HR
(10 rows)

postgres=# UPDATE employee SET dept_id_fk = '103SL' WHERE eid= '5';
UPDATE 1
postgres=# UPDATE employee SET dept_id_fk = '103SL' WHERE eid= '6';
UPDATE 1
postgres=# UPDATE employee SET dept_id_fk = '103SL' WHERE eid= '7';
UPDATE 1
postgres=# select * from employee;
 emp_first_name | emp_last_name | gender | date_of_birth |         email         | salary | eid |   dept   | dept_id_fk 
----------------+---------------+--------+---------------+-----------------------+--------+-----+----------+------------
 krshna         | kapoor        | MALE   | 1995-08-24    | krish@gmail.com       |  35000 | 8   | ACCOUNTS | 
 Thomas         | smith         | MALE   | 1990-04-20    | thomas@gmail.com      |  30000 | 9   | ACCOUNTS | 
 Brijesh        | Yadav         | MALE   | 1992-03-21    | brij@gmail.com        |  25000 | 10  | RESEARCH | 
 Aman           | Chouhan       | MALE   | 1997-12-28    | amanchouhan@gmail.com |  30000 | 1   | IT       | 101IT
 Ankansha       | sharma        | FEMALE | 1998-11-28    | akansha@gmail.com     |  30000 | 2   | IT       | 101IT
 Niharika       | kumari        | FEMALE | 1999-09-20    | niharika@gmail.com    |  20000 | 3   | IT       | 101IT
 Kunal          | kumar         | MALE   | 1999-09-11    | kunal@gmail.com       |  50000 | 4   | HR       | 102HR
 Neha           | Nagar         | FEMALE | 1997-12-28    | neha@gmail.com        |  25000 | 5   | SALES    | 103SL
 kiran          | sharma        | FEMALE | 1998-12-24    | kiran@gmail.com       |  30000 | 6   | SALES    | 103SL
 Pawan          | khanna        | MALE   | 1994-06-20    | pawan@gmail.com       |  35000 | 7   | SALES    | 103SL
(10 rows)

postgres=# UPDATE employee SET dept_id_fk = '104AC' WHERE eid= '8';
UPDATE 1
postgres=# select * from employee;
 emp_first_name | emp_last_name | gender | date_of_birth |         email         | salary | eid |   dept   | dept_id_fk 
----------------+---------------+--------+---------------+-----------------------+--------+-----+----------+------------
 Thomas         | smith         | MALE   | 1990-04-20    | thomas@gmail.com      |  30000 | 9   | ACCOUNTS | 
 Brijesh        | Yadav         | MALE   | 1992-03-21    | brij@gmail.com        |  25000 | 10  | RESEARCH | 
 Aman           | Chouhan       | MALE   | 1997-12-28    | amanchouhan@gmail.com |  30000 | 1   | IT       | 101IT
 Ankansha       | sharma        | FEMALE | 1998-11-28    | akansha@gmail.com     |  30000 | 2   | IT       | 101IT
 Niharika       | kumari        | FEMALE | 1999-09-20    | niharika@gmail.com    |  20000 | 3   | IT       | 101IT
 Kunal          | kumar         | MALE   | 1999-09-11    | kunal@gmail.com       |  50000 | 4   | HR       | 102HR
 Neha           | Nagar         | FEMALE | 1997-12-28    | neha@gmail.com        |  25000 | 5   | SALES    | 103SL
 kiran          | sharma        | FEMALE | 1998-12-24    | kiran@gmail.com       |  30000 | 6   | SALES    | 103SL
 Pawan          | khanna        | MALE   | 1994-06-20    | pawan@gmail.com       |  35000 | 7   | SALES    | 103SL
 krshna         | kapoor        | MALE   | 1995-08-24    | krish@gmail.com       |  35000 | 8   | ACCOUNTS | 104AC
(10 rows)

postgres=# UPDATE employee SET dept_id_fk = '103SL' WHERE eid= '9';
UPDATE 1
postgres=# UPDATE employee SET dept_id_fk = '105RE' WHERE eid= '10';
ERROR:  insert or update on table "employee" violates foreign key constraint "employee_dept_id_fk_fkey"
DETAIL:  Key (dept_id_fk)=(105RE) is not present in table "departments".
postgres=# UPDATE employee SET dept_id_fk = '103RE' WHERE eid= '10';
UPDATE 1
postgres=# select * from employee;
 emp_first_name | emp_last_name | gender | date_of_birth |         email         | salary | eid |   dept   | dept_id_fk 
----------------+---------------+--------+---------------+-----------------------+--------+-----+----------+------------
 Aman           | Chouhan       | MALE   | 1997-12-28    | amanchouhan@gmail.com |  30000 | 1   | IT       | 101IT
 Ankansha       | sharma        | FEMALE | 1998-11-28    | akansha@gmail.com     |  30000 | 2   | IT       | 101IT
 Niharika       | kumari        | FEMALE | 1999-09-20    | niharika@gmail.com    |  20000 | 3   | IT       | 101IT
 Kunal          | kumar         | MALE   | 1999-09-11    | kunal@gmail.com       |  50000 | 4   | HR       | 102HR
 Neha           | Nagar         | FEMALE | 1997-12-28    | neha@gmail.com        |  25000 | 5   | SALES    | 103SL
 kiran          | sharma        | FEMALE | 1998-12-24    | kiran@gmail.com       |  30000 | 6   | SALES    | 103SL
 Pawan          | khanna        | MALE   | 1994-06-20    | pawan@gmail.com       |  35000 | 7   | SALES    | 103SL
 krshna         | kapoor        | MALE   | 1995-08-24    | krish@gmail.com       |  35000 | 8   | ACCOUNTS | 104AC
 Thomas         | smith         | MALE   | 1990-04-20    | thomas@gmail.com      |  30000 | 9   | ACCOUNTS | 103SL
 Brijesh        | Yadav         | MALE   | 1992-03-21    | brij@gmail.com        |  25000 | 10  | RESEARCH | 103RE
(10 rows)

postgres=# select employee.emp_first_name ,departments.dept_name FROM employee INNER JOIN departments ON employee.dept_id_fk = departments.dept_id;
 emp_first_name | dept_name 
----------------+-----------
 Niharika       | IT
 Ankansha       | IT
 Aman           | IT
 Kunal          | HR
 Thomas         | SALES
 Pawan          | SALES
 kiran          | SALES
 Neha           | SALES
 krshna         | ACCOUNTS
 Brijesh        | RESEARCH
(10 rows)


postgres=# select employee.emp_first_name ,departments.dept_name FROM employee INNER JOIN departments ON employee.dept_id_fk = departments.dept_id;
 emp_first_name | dept_name 
----------------+-----------
 Niharika       | IT
 Ankansha       | IT
 Aman           | IT
 Kunal          | HR
 Thomas         | SALES
 Pawan          | SALES
 kiran          | SALES
 Neha           | SALES
 krshna         | ACCOUNTS
 Brijesh        | RESEARCH
(10 rows)

postgres=# select employee.emp_first_name ,departments.dept_name,employee.salary FROM employee INNER JOIN departments ON employee.dept_id_fk = departments.dept_id WHERE employee.salary >30000;

 emp_first_name | dept_name | salary 
----------------+-----------+--------
 Kunal          | HR        |  50000
 Pawan          | SALES     |  35000
 krshna         | ACCOUNTS  |  35000
(3 rows)

postgres=# 



===================================================19th oct======================
Join three tables : employee,project,project_assigned

postgres=# select employee.emp_first_name ,employee.salary ,project.project_name,project_assigned.project_id 
	          FROM employee INNER JOIN project_assigned ON employee.eid = project_assigned.eid  
	          INNER JOIN project ON project.project_id = project_assigned.project_id;
 emp_first_name | salary |   project_name   | project_id 
----------------+--------+------------------+------------
 Aman           |  30000 | web_project      |       1001
 Ankansha       |  30000 | Machine Learning |       1002
 Niharika       |  20000 | Android          |       1003
 Kunal          |  50000 | funds analysis   |       1005
 Neha           |  25000 | Android          |       1003
 kiran          |  30000 | Cloud service    |       1006
 Pawan          |  35000 | web_project      |       1001
 krshna         |  35000 | mutual funds     |       1004
 Thomas         |  30000 | mutual funds     |       1004
 Brijesh        |  25000 | web_project      |       1001
(10 rows)

postgres=# select employee.emp_first_name ,employee.salary,departments.dept_name ,project.project_name,project_assigned.project_id 
           FROM employee 
           INNER JOIN project_assigned ON employee.eid = project_assigned.eid  
	   INNER JOIN project ON project.project_id = project_assigned.project_id 
           INNER JOIN departments ON departments.dept_id = employee.dept_id_fk;

 emp_first_name | salary | dept_name |   project_name   | project_id 
----------------+--------+-----------+------------------+------------
 Niharika       |  20000 | IT        | Android          |       1003
 Ankansha       |  30000 | IT        | Machine Learning |       1002
 Aman           |  30000 | IT        | web_project      |       1001
 Kunal          |  50000 | HR        | funds analysis   |       1005
 Thomas         |  30000 | SALES     | mutual funds     |       1004
 Pawan          |  35000 | SALES     | web_project      |       1001
 kiran          |  30000 | SALES     | Cloud service    |       1006
 Neha           |  25000 | SALES     | Android          |       1003
 krshna         |  35000 | ACCOUNTS  | mutual funds     |       1004
 Brijesh        |  25000 | RESEARCH  | web_project      |       1001
(10 rows)


Join 5 tables :

postgres=# select employee.emp_first_name ,employee.salary,departments.dept_name ,project.project_name,project_assigned.project_id ,COUNT(*) 
           FROM employee 
           INNER JOIN project_assigned ON employee.eid = project_assigned.eid  
           INNER JOIN project ON project.project_id = project_assigned.project_id 
           INNER JOIN departments ON departments.dept_id = employee.dept_id_fk
           INNER JOIN through ON project_assigned.eid  = through.eidpk GROUP BY                               employee.emp_first_name,employee.salary,departments.dept_name ,project.project_name,project_assigned.project_id;
 emp_first_name | salary | dept_name |   project_name   | project_id | count 
----------------+--------+-----------+------------------+------------+-------
 Aman           |  30000 | IT        | web_project      |       1001 |     1
 Ankansha       |  30000 | IT        | Machine Learning |       1002 |     1
 Brijesh        |  25000 | RESEARCH  | web_project      |       1001 |     1
 kiran          |  30000 | SALES     | Cloud service    |       1006 |     1
 krshna         |  35000 | ACCOUNTS  | mutual funds     |       1004 |     1
 Kunal          |  50000 | HR        | funds analysis   |       1005 |     1
 Neha           |  25000 | SALES     | Android          |       1003 |     1
 Niharika       |  20000 | IT        | Android          |       1003 |     1
 Pawan          |  35000 | SALES     | web_project      |       1001 |     1
 Thomas         |  30000 | SALES     | mutual funds     |       1004 |     1
(10 rows)


count the number of projects count:

postgres=# select project.project_name,COUNT(*) FROM project INNER JOIN project_assigned ON project_assigned.project_id = project.project_id INNER JOIN through ON through.eidpk = project_assigned.eid GROUP BY project.project_name; 
   project_name   | count 
------------------+-------
 mutual funds     |     2
 funds analysis   |     1
 Android          |     2
 Cloud service    |     1
 Machine Learning |     1
 web_project      |     3
(6 rows)


Assigned project to the employeeds:

postgres=# select employee.emp_first_name , project.project_name,COUNT(*) FROM project INNER JOIN project_assigned ON project_assigned.project_id = project.project_id INNER JOIN through ON through.eidpk = project_assigned.eid INNER JOIN employee On employee.eid = project_assigned.eid  GROUP BY employee.emp_first_name, project.project_name; 
 emp_first_name |   project_name   | count 
----------------+------------------+-------
 krshna         | mutual funds     |     1
 Ankansha       | Machine Learning |     1
 Brijesh        | web_project      |     1
 Neha           | Android          |     1
 Aman           | web_project      |     1
 Pawan          | web_project      |     1
 Niharika       | Android          |     1
 kiran          | Cloud service    |     1
 Thomas         | mutual funds     |     1
 Kunal          | funds analysis   |     1
(10 rows)


----------------------------final tables------------------------
postgres=# \dt
              List of relations
 Schema |       Name       | Type  |  Owner   
--------+------------------+-------+----------
 public | clientprojects   | table | postgres
 public | clients          | table | postgres
 public | departments      | table | postgres
 public | employee         | table | postgres
 public | project          | table | postgres
 public | project_assigned | table | postgres
 public | through          | table | postgres
(7 rows)


postgres=# select * from departments;
 dept_id | dept_name 
---------+-----------
 101IT   | IT
 102HR   | HR
 103SL   | SALES
 104AC   | ACCOUNTS
 103RE   | RESEARCH
(5 rows)

postgres=# select * from employee;
 emp_first_name | emp_last_name | gender | date_of_birth |         email         | salary | eid |   dept   | dept_id_fk 
----------------+---------------+--------+---------------+-----------------------+--------+-----+----------+------------
 Aman           | Chouhan       | MALE   | 1997-12-28    | amanchouhan@gmail.com |  30000 | 1   | IT       | 101IT
 Ankansha       | sharma        | FEMALE | 1998-11-28    | akansha@gmail.com     |  30000 | 2   | IT       | 101IT
 Niharika       | kumari        | FEMALE | 1999-09-20    | niharika@gmail.com    |  20000 | 3   | IT       | 101IT
 Kunal          | kumar         | MALE   | 1999-09-11    | kunal@gmail.com       |  50000 | 4   | HR       | 102HR
 Neha           | Nagar         | FEMALE | 1997-12-28    | neha@gmail.com        |  25000 | 5   | SALES    | 103SL
 kiran          | sharma        | FEMALE | 1998-12-24    | kiran@gmail.com       |  30000 | 6   | SALES    | 103SL
 Pawan          | khanna        | MALE   | 1994-06-20    | pawan@gmail.com       |  35000 | 7   | SALES    | 103SL
 krshna         | kapoor        | MALE   | 1995-08-24    | krish@gmail.com       |  35000 | 8   | ACCOUNTS | 104AC
 Thomas         | smith         | MALE   | 1990-04-20    | thomas@gmail.com      |  30000 | 9   | ACCOUNTS | 103SL
 Brijesh        | Yadav         | MALE   | 1992-03-21    | brij@gmail.com        |  25000 | 10  | RESEARCH | 103RE
(10 rows)

postgres=# select * from project;
 project_id |   project_name   
------------+------------------
       1001 | web_project
       1002 | Machine Learning
       1003 | Android
       1005 | funds analysis
       1006 | Cloud service
       1004 | mutual funds
(6 rows)

postgres=# select * from project_assigned;
 eid | project_id 
-----+------------
 1   |       1001
 2   |       1002
 3   |       1003
 4   |       1005
 5   |       1003
 6   |       1006
 7   |       1001
 8   |       1004
 9   |       1004
 10  |       1001
(10 rows)

postgres=# select * from through;
 eid | project_id | eidpk 
-----+------------+-------
 1   |       1001 | 1
 1   |       1002 | 2
 2   |       1001 | 3
 2   |       1003 | 4
 3   |       1002 | 5
 3   |       1003 | 6
 5   |       1004 | 7
 5   |       1005 | 8
 6   |       1004 | 9
 10  |       1001 | 10
(10 rows)

============================================================================================================================

postgres=# select e.emp_first_name,e.emp_last_name,e.salary ,d.dept_name FROM employee AS e,departments AS d WHERE e.dept_id_fk = d.dept_id;
 emp_first_name | emp_last_name | salary | dept_name 
----------------+---------------+--------+-----------
 Niharika       | kumari        |  20000 | IT
 Ankansha       | sharma        |  30000 | IT
 Aman           | Chouhan       |  30000 | IT
 Kunal          | kumar         |  50000 | HR
 Thomas         | smith         |  30000 | SALES
 Pawan          | khanna        |  35000 | SALES
 kiran          | sharma        |  30000 | SALES
 Neha           | Nagar         |  25000 | SALES
 krshna         | kapoor        |  35000 | ACCOUNTS
 Brijesh        | Yadav         |  25000 | RESEARCH

postgres=# select emp_first_name,emp_last_name,AGE(NOW(),date_of_birth) FROM employee;
 emp_first_name | emp_last_name |                   age                    
----------------+---------------+------------------------------------------
 Aman           | Chouhan       | 23 years 9 mons 22 days 16:36:16.400458
 Ankansha       | sharma        | 22 years 10 mons 21 days 16:36:16.400458
 Niharika       | kumari        | 22 years 29 days 16:36:16.400458
 Kunal          | kumar         | 22 years 1 mon 8 days 16:36:16.400458
 Neha           | Nagar         | 23 years 9 mons 22 days 16:36:16.400458
 kiran          | sharma        | 22 years 9 mons 26 days 16:36:16.400458
 Pawan          | khanna        | 27 years 3 mons 29 days 16:36:16.400458
 krshna         | kapoor        | 26 years 1 mon 26 days 16:36:16.400458
 Thomas         | smith         | 31 years 5 mons 29 days 16:36:16.400458
 Brijesh        | Yadav         | 29 years 6 mons 29 days 16:36:16.400458
(10 rows)

postgres=# SELECT * FROM employee WHERE eid IN (select eid FROM employee where salary<=35000);
 emp_first_name | emp_last_name | gender | date_of_birth |         email         | salary | eid |   dept   | dept_id_fk 
----------------+---------------+--------+---------------+-----------------------+--------+-----+----------+------------
 Aman           | Chouhan       | MALE   | 1997-12-28    | amanchouhan@gmail.com |  30000 | 1   | IT       | 101IT
 Ankansha       | sharma        | FEMALE | 1998-11-28    | akansha@gmail.com     |  30000 | 2   | IT       | 101IT
 Niharika       | kumari        | FEMALE | 1999-09-20    | niharika@gmail.com    |  20000 | 3   | IT       | 101IT
 Neha           | Nagar         | FEMALE | 1997-12-28    | neha@gmail.com        |  25000 | 5   | SALES    | 103SL
 kiran          | sharma        | FEMALE | 1998-12-24    | kiran@gmail.com       |  30000 | 6   | SALES    | 103SL
 Pawan          | khanna        | MALE   | 1994-06-20    | pawan@gmail.com       |  35000 | 7   | SALES    | 103SL
 krshna         | kapoor        | MALE   | 1995-08-24    | krish@gmail.com       |  35000 | 8   | ACCOUNTS | 104AC
 Thomas         | smith         | MALE   | 1990-04-20    | thomas@gmail.com      |  30000 | 9   | ACCOUNTS | 103SL
 Brijesh        | Yadav         | MALE   | 1992-03-21    | brij@gmail.com        |  25000 | 10  | RESEARCH | 103RE
(9 rows)


